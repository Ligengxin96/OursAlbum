{"version":3,"sources":["reducers/posts.js","reducers/index.js","components/Posts/Post/DeleteConfirm/styles.js","components/Posts/Post/DeleteConfirm/deleteConfirm.js","apis/index.js","actions/posts.js","images/null.png","components/Posts/Post/styles.js","components/Posts/Post/Post.js","components/Posts/styles.js","components/Posts/Posts.js","components/Form/styles.js","components/Form/Form.js","images/us.png","styles.js","App.js","index.js"],"names":["initState","posts","isLoading","postsReducer","state","action","payload","type","concat","updatedPost","map","post","_id","deletedPost","filter","reducers","combineReducers","makeStyles","title","display","textAlign","alignItems","iconButton","marginLeft","DeleteConfirm","isOpen","handleClose","classes","useStyles","Dialog","open","onClose","aria-labelledby","aria-describedby","DialogTitle","id","className","IconButton","aria-label","onClick","DialogContent","DialogContentText","DialogActions","Button","color","autoFocus","dotenv","config","url","process","ENV","createPost","newPost","axios","updatePost","patch","likePost","deletePost","delete","dispatch","a","apis","data","console","log","message","media","height","paddingTop","backgroundColor","backgroundBlendMode","border","fullHeightCard","card","flexDirection","justifyContent","borderRadius","position","overlayLeft","top","left","overlayRight","right","grid","details","margin","padding","cardActions","likes","paddingLeft","Post","setEditingPostId","useDispatch","useState","deleteId","setDeleteId","setOpen","deleteThisPost","likeThisPost","Card","CardMedia","image","selectedFile","nullImage","Typography","variant","creator","moment","createdTime","fromNow","style","size","fontSize","component","tags","tag","gutterBottom","CardContent","CardActions","likeCount","confirmed","theme","mainContainer","smMargin","spacing","actionDiv","Posts","useSelector","CircularProgress","Grid","container","index","item","xs","sm","md","root","paper","form","flexWrap","filedInput","width","buttonSubmit","marginBottom","FIELDS_CONFIG","name","label","multiline","Form","editingPost","find","postData","setPostData","clear","onSubmit","e","preventDefault","useEffect","Paper","autoComplete","noValidate","field","TextField","value","onChange","fieldName","target","split","onFieldChange","fullWidth","multiple","onDone","file","base64","appBar","heading","App","editingPostId","get","Container","maxWidth","AppBar","align","src","usImgPath","alt","Grow","in","justify","store","createStore","compose","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5edfe4c8.chunk.js","sourcesContent":[" const initState = { posts: [], isLoading: false };\r\n \r\n const postsReducer = (state = initState, action) => {\r\n  const { posts } = state;\r\n  const { payload } = action;\r\n  switch (action.type) {\r\n    case 'START_LOADING':\r\n      return { ...state, isLoading: true };\r\n    case 'END_LOADING':\r\n      return { ...state, isLoading: false };\r\n    case \"FETCH_ALL\":\r\n      return { ...state, posts: payload };\r\n    case \"CREATE\":\r\n      return {...state, posts: posts.concat(payload) };\r\n    case \"UPDATE\":\r\n      const updatedPost = payload[0];\r\n      return { ...state, posts: posts.map((post) => post._id === updatedPost._id ? updatedPost : post) };\r\n    case \"DELETE\":\r\n      const deletedPost = payload[0];\r\n      return { ...state, posts: posts.filter((post) => post._id !== deletedPost._id) };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default postsReducer;","import { combineReducers } from 'redux';\r\n\r\nimport postsReducer from './posts';\r\n\r\nexport const reducers = combineReducers({ posts: postsReducer });\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles({\r\n  title: {\r\n    display: 'flex',\r\n    textAlign: 'center',\r\n    alignItems: 'center'\r\n  },\r\n  iconButton: {\r\n    marginLeft: '3rem'\r\n  }\r\n});\r\n","import React from 'react';\r\nimport { Button, Dialog, DialogActions, DialogTitle , DialogContent, DialogContentText, IconButton } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nimport useStyles from './styles';\r\n\r\nconst DeleteConfirm = ({ isOpen = false, handleClose }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={isOpen}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\" className={classes.title}>\r\n          确定要删除吗？\r\n          {\r\n            handleClose ? (\r\n              <IconButton aria-label=\"close\" onClick={() => handleClose(0)}>\r\n                <CloseIcon className={classes.iconButton}/>\r\n              </IconButton>\r\n            ) : null\r\n          }\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">删除后内容将永久丢失,无法恢复!</DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => handleClose(0)} color=\"primary\">\r\n            取消\r\n          </Button>\r\n          <Button onClick={() => handleClose(1)} color=\"secondary\" autoFocus>\r\n            确定\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DeleteConfirm;","import axios from 'axios';\r\nimport dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nconst url = process.env.ENV === 'dev' ? \"http://localhost:5000/v1/post\" : \"http://ours-album-server.herokuapp.com/v1/post\";\r\n\r\nexport const fetchPosts = () => axios.get(url);\r\n\r\nexport const createPost = (newPost) => axios.post(url, newPost);\r\n\r\nexport const updatePost = (id, newPost) => axios.patch(`${url}/${id}`, newPost);\r\n\r\nexport const likePost = (id) => axios.patch(`${url}/likepost/${id}`);\r\n\r\nexport const deletePost = (id) => axios.delete(`${url}/${id}`);\r\n","import * as apis from '../apis';\r\n\r\nexport const getPosts = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: 'START_LOADING' });\r\n    const { data } = await apis.fetchPosts();\r\n    dispatch({ type: 'FETCH_ALL', payload: data.data });\r\n    dispatch({ type: 'END_LOADING' });\r\n  } catch (error) {\r\n    console.log('Error occurrence when fetch all posts with error:', error.message);\r\n  }\r\n}\r\n\r\nexport const createPost = (newPost) => async (dispatch) => {\r\n  try {\r\n    const { data } = await apis.createPost(newPost);\r\n    dispatch({ type: 'CREATE', payload: data.data });\r\n  } catch (error) {\r\n    console.log('Error occurrence when create post with error:', error.message);\r\n  }\r\n}\r\n\r\nexport const updatePost = (id, newPost) => async (dispatch) => {\r\n  try {\r\n    const { data } = await apis.updatePost(id, newPost);\r\n    dispatch({ type: 'UPDATE', payload: data.data });\r\n  } catch (error) {\r\n    console.log('Error occurrence when update post with error:', error.message);\r\n  }\r\n}\r\n\r\nexport const likePost = (id) => async (dispatch) => {\r\n  try {\r\n    const { data } = await apis.likePost(id);\r\n    dispatch({ type: 'UPDATE', payload: data.data });\r\n  } catch (error) {\r\n    console.log('Error occurrence when like post with error:', error.message);\r\n  }\r\n}\r\n\r\nexport const deletePost = (id) => async (dispatch) => {\r\n  try {\r\n    const { data } = await apis.deletePost(id);\r\n    dispatch({ type: 'DELETE', payload: data.data });\r\n  } catch (error) {\r\n    console.log('Error occurrence when delete post with error:', error.message);\r\n  }\r\n}","export default __webpack_public_path__ + \"static/media/null.09cb794a.png\";","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles({\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n    backgroundBlendMode: 'darken',\r\n  },\r\n  border: {\r\n    border: 'solid',\r\n  },\r\n  fullHeightCard: {\r\n    height: '100%',\r\n  },\r\n  card: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    borderRadius: '15px',\r\n    height: '100%',\r\n    position: 'relative',\r\n  },\r\n  overlayLeft: {\r\n    position: 'absolute',\r\n    top: '20px',\r\n    left: '20px',\r\n    color: 'white',\r\n  },\r\n  overlayRight: {\r\n    position: 'absolute',\r\n    top: '20px',\r\n    right: '20px',\r\n    color: 'white',\r\n  },\r\n  grid: {\r\n    display: 'flex',\r\n  },\r\n  details: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    margin: '20px',\r\n  },\r\n  title: {\r\n    padding: '0 16px',\r\n  },\r\n  cardActions: {\r\n    padding: '0 16px 8px 16px',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n  },\r\n  likes: {\r\n    paddingLeft: '3px',\r\n  }\r\n});\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Card, CardActions, CardContent, CardMedia, Button, Typography } from '@material-ui/core/';\r\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport moment from 'moment';\r\n\r\nimport DeleteConfirm  from './DeleteConfirm/deleteConfirm';\r\n\r\nimport { deletePost, likePost } from '../../../actions/posts'\r\n\r\nimport nullImage from '../../../images/null.png';\r\nimport useStyles from './styles';\r\n\r\nconst Post = ({ post, setEditingPostId }) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const [deleteId, setDeleteId] = useState(null);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = (confirmed) => {\r\n    if (confirmed === 1) {\r\n      dispatch(deletePost(deleteId));\r\n      setDeleteId(null);\r\n    }\r\n    setOpen(false);\r\n  };\r\n\r\n  const editPost = (id) => {\r\n    setEditingPostId(id);\r\n  }\r\n\r\n  const deleteThisPost = (id) => {\r\n    setDeleteId(id);\r\n    handleClickOpen();\r\n  }\r\n\r\n  const likeThisPost = (id) => {\r\n    dispatch(likePost(id));\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Card className={classes.card}>\r\n        <CardMedia className={classes.media} title={post.title} image={post.selectedFile || nullImage} />\r\n        <div className={classes.overlayLeft}>\r\n          <Typography variant=\"h6\">{post.creator}</Typography>\r\n          <Typography variant=\"body2\">{moment(post.createdTime).fromNow()}</Typography>\r\n        </div>\r\n        <div className={classes.overlayRight}>\r\n          <Button style={{ color: 'white' }} size=\"small\" onClick={() => editPost(post._id)} ><EditIcon fontSize=\"default\" /></Button>\r\n        </div>\r\n        <div className={classes.details}>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"h2\">{post.tags.map((tag) => `#${tag} `)}</Typography>\r\n        </div>\r\n        <Typography className={classes.title} gutterBottom variant=\"h5\" component=\"h2\">{post.title}</Typography>\r\n        <CardContent>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">{post.message}</Typography>\r\n        </CardContent>\r\n        <CardActions className={classes.cardActions}>\r\n          <Button size=\"small\" color=\"primary\" onClick={() => likeThisPost(post._id)}><ThumbUpAltIcon fontSize=\"small\" /><span className={classes.likes}>{post.likeCount}</span></Button>\r\n          <Button size=\"small\" color=\"secondary\" onClick={() => deleteThisPost(post._id)}><DeleteIcon fontSize=\"small\" /></Button>\r\n        </CardActions>\r\n      </Card>\r\n       <DeleteConfirm isOpen={open} handleClose={handleClose} />\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Post;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  mainContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  smMargin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  actionDiv: {\r\n    textAlign: 'center',\r\n  },\r\n}));\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Grid, CircularProgress } from '@material-ui/core'\r\n\r\nimport Post from './Post/Post';\r\n\r\nimport useStyles from './styles';\r\n\r\nconst Posts = ({ setEditingPostId }) => {\r\n  const { posts, isLoading } = useSelector((state) => state.posts);\r\n  const classes = useStyles();\r\n  return (\r\n    <div>\r\n      {\r\n        isLoading ? <CircularProgress /> :\r\n        <Grid className={classes.container} container alignItems=\"stretch\" spacing={3}>\r\n          { \r\n            posts.map((post, index) => {\r\n              return (\r\n                <Grid key={index} item xs={12} sm={6} md={6}>\r\n                  <Post post={post} setEditingPostId={setEditingPostId} />\r\n                </Grid>\r\n              )\r\n            })\r\n          }\r\n        </Grid>\r\n      }\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Posts;\r\n","\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  form: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  filedInput: {\r\n    width: '97%',\r\n    margin: '10px 0',\r\n  },\r\n  buttonSubmit: {\r\n    marginBottom: 10,\r\n  },\r\n}));\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { TextField, Button, Typography, Paper } from '@material-ui/core';\r\nimport FileBase from 'react-file-base64';\r\n\r\nimport { createPost, updatePost } from '../../actions/posts';\r\n\r\nimport useStyles from './styles';\r\n\r\nconst FIELDS_CONFIG = [\r\n  { name: 'creator', label: '创建者' },\r\n  { name: 'title',label: '标题' },\r\n  { name: 'message', label: '描述', multiline: true },\r\n  { name: 'tags', label: '标签(逗号分隔)' }\r\n]\r\n\r\nconst Form = ({ id, setEditingPostId }) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const editingPost = useSelector((state) => {\r\n    const { posts } = state.posts;\r\n    return posts.find((post) => {\r\n      return post._id === id;\r\n    });\r\n  });\r\n\r\n  const [postData , setPostData] = useState({ creator: '', title: '', message: '', tags: [], selectedFile: '' });\r\n\r\n  const onFieldChange = (e, fieldName) => {\r\n    if (fieldName === 'tags') {\r\n      setPostData({ ...postData, [fieldName]: e.target.value.split(',') });\r\n    } else {\r\n      setPostData({ ...postData, [fieldName]: e.target.value });\r\n    }\r\n  }\r\n\r\n  const clear = () => {\r\n    setPostData({ creator: '', title: '', message: '', tags: [], selectedFile: '' });\r\n    setEditingPostId(null);\r\n  }\r\n\r\n  const uploadFile = (file) => {\r\n    setPostData({ ...postData, selectedFile: file.base64 });\r\n  }\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if(id) {\r\n      dispatch(updatePost(id, postData));\r\n    } else {\r\n      dispatch(createPost(postData));\r\n    }\r\n    clear();\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (editingPost) {\r\n      setPostData(editingPost)\r\n    };\r\n  }, [editingPost]);\r\n\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <form autoComplete='off' noValidate className={`${classes.root} ${classes.form}`} onSubmit={onSubmit}>\r\n        <Typography variant='h6'>{ `${id ? '编辑': '创建'}我们的回忆` }</Typography>\r\n        {\r\n          FIELDS_CONFIG.map((field) => {\r\n            const { name, label, multiline = false } = field;\r\n            return <TextField value={postData[name]} onChange={(e) => onFieldChange(e, name)} name={name} label={label} multiline={multiline} key={name} variant='outlined' fullWidth />\r\n          })\r\n        }\r\n        <div className={classes.filedInput} >\r\n          <FileBase type='file' value={postData.selectedFile} multiple={false} onDone={uploadFile} /> \r\n        </div>\r\n        <Button className={classes.buttonSubmit} variant='contained' color='primary' size='large' type='submit' fullWidth>提交</Button>\r\n        <Button variant='contained' color='secondary' size='small' fullWidth onClick={clear}>取消</Button>\r\n      </form>\r\n    </Paper>\r\n  )\r\n};\r\n\r\nexport default Form;\r\n","export default __webpack_public_path__ + \"static/media/us.9cfa8a46.png\";","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles(() => ({\r\n  appBar: {\r\n    borderRadius: 15,\r\n    margin: '30px 0',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  heading: {\r\n    color: 'rgba(0,183,255, 1)',\r\n  },\r\n  image: {\r\n    marginLeft: '15px',\r\n  },\r\n}));\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Container, AppBar, Typography, Grow, Grid } from '@material-ui/core';\r\n\r\nimport Posts from './components/Posts/Posts';\r\nimport Form from './components/Form/Form';\r\n\r\nimport { getPosts } from './actions/posts';\r\n\r\nimport usImgPath from './images/us.png';\r\nimport useStyles from './styles';\r\n\r\nconst App = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const [editingPostId, setEditingPostId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    dispatch(getPosts());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\">\r\n      <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\r\n        <Typography className={classes.heading} variant=\"h2\" align=\"center\">Ours Album</Typography>\r\n        <img className={classes.image} src={usImgPath} alt=\"icon\" height=\"60\" />\r\n      </AppBar>\r\n      <Grow in>\r\n        <Container>\r\n          <Grid container justify=\"space-between\" alignItems=\"stretch\" spacing={3}>\r\n            <Grid item xs={12} sm={7}>\r\n              <Posts setEditingPostId={setEditingPostId} />\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <Form id={editingPostId} setEditingPostId={setEditingPostId} />\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </Grow>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default App;","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport thunk from 'redux-thunk';\r\nimport { reducers } from './reducers';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\n\r\nimport App from './App';\r\n\r\nimport './index.css';\r\n\r\nconst store = createStore(reducers, compose(applyMiddleware(thunk)));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}